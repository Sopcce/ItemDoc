@using ItemDoc.Core.Mvc.SystemMessage
@model UsersLoginViewModel
@{
    ViewBag.Title = "注册页面";
    var systemMessageData = ViewData.Get<SystemMessageData>("msg", new SystemMessageData(SystemMessageType.Success, "ok"));
}
@section heads
{
    <style type="text/css">
        body {
            padding-top: 40px;
            padding-bottom: 40px;
            background-color: #eee;
        }

        .form-signin {
            max-width: 60%;
            margin: 0 auto;
        }

        .checkcodeimg {
            cursor: pointer;
        }
    </style>

}
@section  scripts {

    <script src="~/assets/jquery.validate/jquery.validate.min.js"></script>
    <script src="~/assets/jquery.validate/jquery.validate.unobtrusive.js"></script>
    <script type="text/javascript">
        $(function() {
            $(".checkcodeimg").click(function() {
                $("#checkcodeimg").attr("src", "/User/CaptchaCode?" + Math.random());
            });
            if ('@systemMessageData.Type' === '@SystemMessageType.Error') {
                layer.msg('@systemMessageData.Content', { autoHeight:true });
            }
        });
    </script>

}

<div class="form-signin">
    <div class="">
        @using (Html.BeginForm("Login", "User", FormMethod.Post, new { @class = "form-horizontal" }))
        {
            @Html.AntiForgeryToken()
            <p class="">
                @Html.ValidationMessageFor(n => n.UserLoginName)
                @Html.ValidationMessageFor(n => n.UserLoginCaptchaCode)
            </p>
            <div class="form-group">
                <label for="UserLoginName" class="col-sm-4 control-label">UserName：</label>
                <div class="col-sm-8">
                    @Html.TextBoxFor(n => n.UserLoginName, new { @class = "form-control", placeholder = "UserName" })
                </div>
            </div>
            <div class="form-group">
                <label for="inputPassword3" class="col-sm-4 control-label">Password：</label>
                <div class="col-sm-8">
                    @Html.PasswordFor(n => n.UserLoginPassWord, new { @class = "form-control", @placeholder = "Password" })

                </div>
            </div>
            <div class="form-group">
                <label for="inputPassword32" class="col-sm-4 control-label">Password：</label>
                <div class="col-sm-8">
                    <img id="checkcodeimg" src="@SiteUrls.Instance().UserCaptchaCode()" alt="点击换一张"
                         title="点击换一张" class="checkcodeimg" />
                    @Html.TextBoxFor(n => n.UserLoginCaptchaCode, new { minlength = "1", maxlength = "4", @class = "form-control", placeholder = "输入验证码", required = "required" })

                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-4 col-sm-8">
                    <div class="checkbox">
                        <label>
                            @Html.CheckBoxFor(n => n.RememberPassword, new { @class = "" })
                            Remember me
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-default">Sign in</button>
                </div>
            </div>

        }

    </div>
</div>





